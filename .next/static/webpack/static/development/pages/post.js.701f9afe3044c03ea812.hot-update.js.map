{"version":3,"file":"static/webpack/static/development/pages/post.js.701f9afe3044c03ea812.hot-update.js","sources":["webpack:///./pages/post.js"],"sourcesContent":["import React, { Component } from \"react\";\nimport PrismicDOM from \"prismic-dom\";\n\nimport { getBlogPostAPI, getBlogPostsAPI } from \"../api\";\nimport linkResolver from \"../helpers\";\nimport htmlSerializer from \"../helpers/htmlSerializer\";\n\nimport BlogPostCard from \"../components/BlogPostCard\";\nimport Layout from \"../components/Layout\";\n\nimport \"./post.scss\";\n\nexport default class BlogPost extends Component {\n  static async getInitialProps(context) {\n    // we get the slug of the post so that we can\n    // query the API with it\n    const { slug } = context.query;\n    const response = await getBlogPostAPI(slug);\n    const suggestedPosts = await getBlogPostsAPI({ pageSize: 3 });\n    return {\n      postData: response[0],\n      suggestedPosts: suggestedPosts.results\n    };\n  }\n\n  shareHandler = () => {\n    if (FB) {\n      FB.ui(\n        {\n          method: \"share\",\n          display: \"popup\",\n          href: \"https://sour-zebra-65.localtunnel.me/blog/hello-test\"\n        },\n        function(response) {}\n      );\n    }\n  };\n\n  render() {\n    const { suggestedPosts, postData } = this.props;\n    const post = postData.data;\n    return (\n      //   <article>\n      //     <h1>{post.title.length ? post.title[0].text : \"\"}</h1>\n      //     {/* Here we pass our rich text field to Prismics RichText renderer, along with our linkResolver */}\n      //     {RichText.render(post.body, linkResolver)}\n      //   </article>\n      <Layout paddingTop={\"4rem\"} hideNavigation>\n        <section className=\"article\">\n          <div className=\"article--container\">\n            <h1 className=\"article__title\">\n              {post.title.length ? post.title[0].text : \"\"}\n            </h1>\n            <p className=\"article__summary\">\n              {post.summary.length ? post.summary[0].text : \"\"}\n            </p>\n            <div className=\"article__content\">\n              <div\n                dangerouslySetInnerHTML={{\n                  __html: PrismicDOM.RichText.asHtml(\n                    post.body,\n                    linkResolver,\n                    htmlSerializer\n                  )\n                }}\n              />\n            </div>\n          </div>\n        </section>\n\n        <section className=\"article__related__posts\">\n          <section className=\"blog__posts\">\n            {/* <p>More articles</p> */}\n            <div className=\"blog__posts--container\">\n              {Array.isArray(suggestedPosts) &&\n                suggestedPosts.map((post, index) => (\n                  <BlogPostCard key={index} post={post} />\n                ))}\n            </div>\n          </section>\n        </section>\n        <aside className=\"article__share\">\n          <div className=\"article__share--wrapper\">\n            <div className=\"article__share__list\">\n              <button className=\"share_button\" onClick={this.shareHandler}>\n                <span>\n                  <svg class=\"svgIcon-use\" width=\"29\" height=\"29\">\n                    <path d=\"M23.209 5H5.792A.792.792 0 0 0 5 5.791V23.21c0 .437.354.791.792.791h9.303v-7.125H12.72v-2.968h2.375v-2.375c0-2.455 1.553-3.662 3.741-3.662 1.049 0 1.95.078 2.213.112v2.565h-1.517c-1.192 0-1.469.567-1.469 1.397v1.963h2.969l-.594 2.968h-2.375L18.11 24h5.099a.791.791 0 0 0 .791-.791V5.79a.791.791 0 0 0-.791-.79\" />\n                  </svg>\n                </span>\n              </button>\n\n              <a\n                className=\"\"\n                href=\"https://twitter.com/intent/tweet\"\n                data-size=\"large\"\n              >\n                Tweet\n              </a>\n            </div>\n          </div>\n        </aside>\n      </Layout>\n    );\n  }\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AAEA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;;;;;;;;;;;;;;;;;;AAaA;AACA;AACA;AAEA;AACA;AACA;AAHA;AAOA;AACA;AACA;;;;;;AACA;AAAA;AAAA;AAAA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAGA;AAAA;AAGA;AAAA;AAEA;AACA;AADA;AADA;AAaA;AAAA;AACA;AAAA;AAEA;AAAA;AAEA;AACA;AAAA;AAAA;AADA;AAMA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AACA;AAAA;AAMA;AACA;AACA;AAHA;AAnDA;AA+DA;;;;;;AA3FA;;;;;;AACA;AACA;AACA;;AACA;AACA;;AADA;;AACA;AAAA;AAAA;AACA;;AADA;AACA;AACA;AACA;AAFA;AACA;;;;;;;;;;;;;;;;;;AARA;AACA;AADA;;;;;;;;;;;;;;;;;;;;;;;A","sourceRoot":""}